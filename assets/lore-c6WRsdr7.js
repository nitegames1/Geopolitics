import{r as s,j as e,i as u,c as f,R as j}from"./leaders-yrrICzLD.js";function x(){const[a,m]=s.useState(""),[r,n]=s.useState(""),[i,c]=s.useState(!1);async function p(){var l,d,h;const t=u.find(o=>o.id===a);if(t){c(!0),n("");try{const g=await(await fetch("https://api.openai.com/v1/chat/completions",{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer undefined"},body:JSON.stringify({model:"gpt-3.5-turbo",messages:[{role:"system",content:"You write concise historical biographies for geopolitical simulation characters set in January 1936."},{role:"user",content:`Describe ${t.name} and their outlook as of January 1936.`}],max_tokens:150})})).json();n(((h=(d=(l=g.choices)==null?void 0:l[0])==null?void 0:d.message)==null?void 0:h.content)??"No lore generated.")}catch{n("Failed to generate lore.")}finally{c(!1)}}}return e.jsxs("div",{className:"sim-container",children:[e.jsx("h1",{children:"AI Lore Generator"}),e.jsxs("select",{value:a,onChange:t=>m(t.target.value),children:[e.jsx("option",{value:"",children:"Select a character"}),u.map(t=>e.jsx("option",{value:t.id,children:t.name},t.id))]}),e.jsx("button",{className:"ml-2",disabled:!a||i,onClick:p,children:i?"Generating...":"Generate Lore"}),r&&e.jsx("p",{className:"mt-4 whitespace-pre-line",children:r})]})}f.createRoot(document.getElementById("root")).render(e.jsx(j.StrictMode,{children:e.jsx(x,{})}));
